{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGallery/ImageGallery.js","components/ImagesInfo/ImagesInfo.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","request","setRequest","className","styles","searchbar","searchForm","event","preventDefault","trim","toast","error","type","button","buttonLabel","input","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","imageData","largeImageURL","tags","src","alt","image","ButtonLoadMore","addPage","classNames","Button","ButtonPosition","onClick","ImageGallery","images","map","img","id","Status","ImageInfo","resetPage","page","setImages","setError","status","setStatus","useEffect","prevState","key","url","axios","get","then","data","hits","catch","fetchFromAPI","window","scrollTo","top","document","documentElement","scrollHeight","behavior","margin","color","height","width","timeout","modalRoot","getElementById","Modal","onClose","handleKeyDown","e","code","addEventListener","removeEventListener","createPortal","Overlay","target","App","picture","setPicture","setPage","showModal","setShowModal","toogleModal","nodeName","currentSrc","autoClose","ReactDOM","render","StrictMode"],"mappings":"4FACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,MAAQ,kC,mBCAxFD,EAAOC,QAAU,CAAC,OAAS,+BAA+B,eAAiB,yC,mBCA3ED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,uCCAjCD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,YAAc,+BAA+B,MAAQ,2B,gICI/K,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAAY,EAChBC,mBAAS,IADO,mBACvCC,EADuC,KAC9BC,EAD8B,KAiB9C,OACE,wBAAQC,UAAWC,IAAOC,UAA1B,SACE,uBAAMF,UAAWC,IAAOE,WAAYP,SAZxC,SAAsBQ,GACpBA,EAAMC,iBAEiB,KAAnBP,EAAQQ,QAIZV,EAASE,GACTC,EAAW,KAJTQ,IAAMC,MAAM,uBAQZ,UACE,wBAAQC,KAAK,SAAST,UAAWC,IAAOS,OAAxC,SACE,sBAAMV,UAAWC,IAAOU,YAAxB,sBAGF,uBACEX,UAAWC,IAAOW,MAClBC,KAAK,UACLJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOnB,EACPoB,SA7BR,SAA6Bd,GAC3BL,EAAWK,EAAMe,cAAcF,MAAMG,uB,8CCO1BC,EAbU,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAClBC,EAAwBD,EAAxBC,cAAeC,EAASF,EAATE,KACvB,OACE,oBAAIxB,UAAWC,IAAOoB,iBAAtB,SACE,qBAAKI,IAAKF,EAAeG,IAAKF,EAAMxB,UAAWC,IAAO0B,W,kCCa7CC,EAhBQ,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACxB,OACE,wBACEpB,KAAK,SACLT,UAAW8B,IAAW7B,IAAO8B,OAAQ9B,IAAO+B,gBAC5CC,QAASJ,EAHX,wBCiBWK,EAlBM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQN,EAAc,EAAdA,QAC9B,OACE,gCACE,oBAAI7B,UAAWC,IAAOiC,aAAtB,SACGC,EAAOC,KAAI,SAACC,GAAD,OACV,cAAC,EAAD,CAA+Bf,UAAWe,GAAnBA,EAAIC,SAG/B,cAAC,EAAD,CAAgBT,QAASA,Q,0CCLzBU,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAGG,SAASC,EAAT,GAA2D,IAAtCC,EAAqC,EAArCA,UAAW3C,EAA0B,EAA1BA,QAAS4C,EAAiB,EAAjBA,KAAMb,EAAW,EAAXA,QAAW,EAC3ChC,mBAAS,IADkC,mBAChEsC,EADgE,KACxDQ,EADwD,OAE7C9C,mBAAS,MAFoC,mBAEhEW,EAFgE,KAEzDoC,EAFyD,OAG3C/C,mBAAS0C,GAHkC,mBAGhEM,EAHgE,KAGxDC,EAHwD,KA8CvE,OAzCAC,qBACE,SAACC,GACMlD,IAGLgD,EAAUP,GAkBd,WACE,IAAMU,EAAM,qCACNC,EAAG,qCAAiCpD,EAAjC,iBAAiD4C,EAAjD,gBAA6DO,EAA7D,wDACTE,IACGC,IAAIF,GACJG,MAAK,SAAClB,GACDO,EAAO,GACTC,GAAU,SAACK,GAAD,4BAAmBA,GAAnB,YAAiCb,EAAOmB,KAAKC,UAG5C,IAATb,GACFC,EAAUR,EAAOmB,KAAKC,MAExBT,EAAUP,MAEXiB,OAAM,SAAChD,GAAD,OAAWoC,EAASL,MAhC3BkB,GACAhB,OAEF,CAAC3C,EAAS4C,IAGZK,qBAAU,WAKRW,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aALX,CAAC7B,IA2BW,SAAXU,EACK,KAGM,YAAXA,EAEA,qBAAK7C,UAAU,SAAf,SACE,cAAC,IAAD,CACEiE,OAAO,SACPxD,KAAK,OACLyD,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,QAMF,aAAXxB,EACK,8BAAMrC,IAGA,aAAXqC,EACK,cAAC,EAAD,CAAcV,OAAQA,EAAQN,QAASA,SADhD,E,qBC/EIyC,EAAYT,SAASU,eAAe,cAE3B,SAASC,EAAT,GAAoC,IAAnBC,EAAkB,EAAlBA,QAAS9C,EAAS,EAATA,MASvC,SAAS+C,EAAcC,GACN,WAAXA,EAAEC,MACJH,IAUJ,OApBA1B,qBAAU,WAGR,OAFAW,OAAOmB,iBAAiB,UAAWH,GAE5B,WACLhB,OAAOoB,oBAAoB,UAAWJ,OAgBnCK,uBACL,qBAAK/E,UAAWC,IAAO+E,QAAS/C,QAPlC,SAAwB0C,GAClBA,EAAExD,gBAAkBwD,EAAEM,QACxBR,KAKF,SACE,qBAAKzE,UAAWC,IAAOuE,MAAvB,SACE,qBAAK/C,IAAKE,EAAOD,IAAI,oBAGzB4C,GC3BW,SAASY,IAAO,IAAD,EACErF,mBAAS,IADX,mBACrBC,EADqB,KACZC,EADY,OAEEF,mBAAS,IAFX,mBAErBsF,EAFqB,KAEZC,EAFY,OAGJvF,mBAAS,GAHL,mBAGrB6C,EAHqB,KAGf2C,EAHe,OAIMxF,oBAAS,GAJf,mBAIrByF,EAJqB,KAIVC,EAJU,KAkB5B,SAASC,IACPD,GAAa,SAACD,GAAD,OAAgBA,KAW/B,OACE,sBAAKrD,QArBP,SAAuB0C,GACK,QAAtBA,EAAEM,OAAOQ,WAGbL,EAAWT,EAAEM,OAAOS,YACpBF,MAgB6BxF,UAAU,MAAvC,UACGsF,GAAa,cAACd,EAAD,CAAO7C,MAAOwD,EAASV,QAASe,IAC9C,cAAC7F,EAAD,CAAWC,SA3Bf,SAA0BE,GACxBC,EAAWD,MA2BT,cAAC,EAAD,CACEA,QAASA,EACT4C,KAAMA,EACNb,QAfN,WACEwD,GAAQ,SAACrC,GAAD,OAAeA,EAAY,MAe/BP,UAZN,WACE4C,EAAQ,MAaN,cAAC,IAAD,CAAgBM,UAAW,SC1CjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACZ,EAAD,MAEFrB,SAASU,eAAe,W","file":"static/js/main.59457095.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2hzCL\",\"image\":\"ImageGalleryItem_image__3V2p9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__2G7q8\",\"ButtonPosition\":\"ButtonLoadMore_ButtonPosition__2uMuy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1DgdF\",\"Modal\":\"Modal_Modal__OIUyK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1XXr1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__sJHIg\",\"searchForm\":\"Searchbar_searchForm__1k_oB\",\"button\":\"Searchbar_button__30XT2\",\"buttonLabel\":\"Searchbar_buttonLabel__1tEng\",\"input\":\"Searchbar_input__2LOOR\"};","import React, { useState } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport propTypes from \"prop-types\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [request, setRequest] = useState(\"\");\n\n  function handleRequestChange(event) {\n    setRequest(event.currentTarget.value.toLowerCase());\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (request.trim() === \"\") {\n      toast.error(\"Enter your request\");\n      return;\n    }\n    onSubmit(request);\n    setRequest(\"\");\n  }\n  return (\n    <header className={styles.searchbar}>\n      <form className={styles.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.button}>\n          <span className={styles.buttonLabel}>Search</span>\n        </button>\n\n        <input\n          className={styles.input}\n          name=\"request\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={request}\n          onChange={handleRequestChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: propTypes.func.isRequired,\n};\n","import styles from \"./ImageGalleryItem.module.css\";\nimport propTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ imageData }) => {\n  const { largeImageURL, tags } = imageData;\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img src={largeImageURL} alt={tags} className={styles.image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imageData: propTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styles from \"./ButtonLoadMore.module.css\";\nimport classNames from \"classnames\";\nimport propTypes from \"prop-types\";\n\nconst ButtonLoadMore = ({ addPage }) => {\n  return (\n    <button\n      type=\"button\"\n      className={classNames(styles.Button, styles.ButtonPosition)}\n      onClick={addPage}\n    >\n      Load more\n    </button>\n  );\n};\n\nButtonLoadMore.propTypes = {\n  addPage: propTypes.func.isRequired,\n};\n\nexport default ButtonLoadMore;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport ButtonLoadMore from \"../ButtonLoadMore/ButtonLoadMore\";\nimport propTypes from \"prop-types\";\n\nconst ImageGallery = ({ images, addPage }) => {\n  return (\n    <div>\n      <ul className={styles.ImageGallery}>\n        {images.map((img) => (\n          <ImageGalleryItem key={img.id} imageData={img}></ImageGalleryItem>\n        ))}\n      </ul>\n      <ButtonLoadMore addPage={addPage}></ButtonLoadMore>\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  addPage: propTypes.func.isRequired,\n  images: propTypes.arrayOf(propTypes.object.isRequired),\n};\n\nexport default ImageGallery;\n","import React, { useState, useEffect } from \"react\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport axios from \"axios\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport propTypes from \"prop-types\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default function ImageInfo({ resetPage, request, page, addPage }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  useEffect(\n    (prevState) => {\n      if (!request) {\n        return;\n      }\n      setStatus(Status.PENDING);\n      fetchFromAPI();\n      resetPage();\n    },\n    [request, page]\n  );\n\n  useEffect(() => {\n    scrollPage();\n  }, [images]);\n\n  function scrollPage() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  function fetchFromAPI() {\n    const key = \"18616543-61f088c3928fc4bac834774e6\";\n    const url = `https://pixabay.com/api/?q=${request}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n    axios\n      .get(url)\n      .then((images) => {\n        if (page > 1) {\n          setImages((prevState) => [...prevState, ...images.data.hits]);\n        }\n\n        if (page === 1) {\n          setImages(images.data.hits);\n        }\n        setStatus(Status.RESOLVED);\n      })\n      .catch((error) => setError(Status.REJECTED));\n  }\n\n  if (status === \"idle\") {\n    return null;\n  }\n\n  if (status === \"pending\") {\n    return (\n      <div className=\"Loader\">\n        <Loader\n          margin=\"0 auto\"\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n\n  if (status === \"rejected\") {\n    return <div>{error}</div>;\n  }\n\n  if (status === \"resolved\") {\n    return <ImageGallery images={images} addPage={addPage} />;\n  }\n}\n\nImageInfo.propTypes = {\n  addPage: propTypes.func.isRequired,\n  resetPage: propTypes.func.isRequired,\n  page: propTypes.number.isRequired,\n  request: propTypes.string.isRequired,\n};\n","import styles from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\nimport { useEffect } from \"react\";\nimport propTypes from \"prop-types\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default function Modal({ onClose, image }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  function handleKeyDown(e) {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  }\n\n  function handleBackDrop(e) {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  }\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackDrop}>\n      <div className={styles.Modal}>\n        <img src={image} alt=\"modal image\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: propTypes.func.isRequired,\n  image: propTypes.string.isRequired,\n};\n","import React, { useState } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImagesInfo from \"./components/ImagesInfo/ImagesInfo\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default function App() {\n  const [request, setRequest] = useState(\"\");\n  const [picture, setPicture] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n\n  function handleFormSubmit(request) {\n    setRequest(request);\n  }\n\n  function choosePicture(e) {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    setPicture(e.target.currentSrc);\n    toogleModal();\n  }\n\n  function toogleModal() {\n    setShowModal((showModal) => !showModal);\n  }\n\n  function addPage() {\n    setPage((prevState) => prevState + 1);\n  }\n\n  function resetPage() {\n    setPage(1);\n  }\n\n  return (\n    <div onClick={choosePicture} className=\"App\">\n      {showModal && <Modal image={picture} onClose={toogleModal}></Modal>}\n      <Searchbar onSubmit={handleFormSubmit}></Searchbar>\n      <ImagesInfo\n        request={request}\n        page={page}\n        addPage={addPage}\n        resetPage={resetPage}\n      />\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}